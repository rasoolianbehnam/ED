#include <pcap.h>
#include <sys/socket.h>
#include "hacking.h"
//#include "hacking-network.h"
#include <netinet/in.h>
#include <arpa/inet.h>
void fatal(char *place) {
    printf("Fatal error in %s", place);
}
int main(int argc, char* argv[]) {
    int i, sockfd;
    unsigned int recv_length;
    u_char buffer[9000];
    if (sockfd = socket(PF_INET, SOCK_RAW, IPPROTO_TCP) == -1)
        fatal("in socket");
    for (i=0; i<100; i++) {
        recv_length = recv(sockfd, buffer, 8000, 0);
        if (recv_length > 8000) recv_length = 8000;
        printf("Got a %u byte packet\n", recv_length);
        dump(buffer, recv_length);
    }
}
